<!DOCTYPE html>
<html>
  <head>
    <title>Best Text Editor</title>
  </head>
  <body>





    <script>

    var no = {
        "message" : "Sad Face"
    };

    var yes = {
        "message" : "yey"
    };

    var anotherTestResponseHandler = {
        "no" : no,
        "yes" : yes
    }

    var good = {
    	"message" : "Oh that's good! Have you seen your family recently?",
        "responseHandler" : anotherTestResponseHandler
    };

    var bad = {
    	"message" : "Awh no :c"
    };

    var cake = {
    	"message" : "CAKE!"
    };

    var testResponseHandler = {
    	"good" 	: good,
    	"bad" 	: bad,
    	"cake"	: cake
    };

    var allThings = {
    	"message" : "Hello, we're going to have a 'therapy session'. How are you today?",
    	"responseHandler" : testResponseHandler,
    	"catch" : "Excuse me?"
    };

    var position = allThings;


    function processCommand(command){
        
    	position =  position.responseHandler[command];
        var tempResponse = position.message;

    	if (position.responseHandler == undefined) {
            //position = allThings;
            console.log("well shit");
        }
        return tempResponse;
    }


    /*
    function respond(){
    	if (typeof position === "string"){
    		//response = position
    		//position = allThings;
    		return "Oops";
    	}

    	return position.message;
    }*/




    //Document Editing Sheit

    var response = "Welcome :)<br/>";
    var message = "";

    function addText() {
      var command = document.getElementById("command").value;
      //processCommand(command);
      response+= processCommand(command);
      response+= "<br/>";


      document.getElementById("console").innerHTML=response;
      document.getElementById("command").value="";

      return false;
    }

    </script>

    <div id="console">
    </div>
    <form onsubmit="return addText()">
      <input id="command" type="text" name="text" autocomplete="off"/>
    </form>

    <script>

    document.getElementById("console").innerHTML=response;

    </script>





  </body>
</html>