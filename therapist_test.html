<!DOCTYPE html>
<html>
  <head>
    <title>Best Text Editor</title>
  </head>
  <body>





    <script>

    var good = {
        "message" : "Oh that's good! What's been making you so happy?",
        "responseHandler" : responseHandler1 ,
        "catch" : "That sounds nice, I'm glad you're feeling good about life right now. Is there anything else you'd like to talk to me about?"
    };
        
    var responseHandler1 = {
        "family" : family,
        "school" : school,
        "university" : university,
        "friend" : friend,
        "girlfried" : girlfriend,
        "boyfriend" : boyfriend,
        "holiday" : holiday,
        "work" : work,

        };
        var family = {
            "message" : "That's great! A good family support network is really important"
        };

        var school = {
            "message" : "Oh I'm glad its going well, do you want to talk about it?"
         };

        var university = {
            "message" : "I'm glad uni is going well. I hope youre not too stressed about exams?"
        };

        var friend = {
            "message" : "Thats good to hear! Friends are really important for your mental health"
        };

        var girlfriend = {
            "message" : "Oh wonderful! Would you like to talk about her?"
        };
        var boyfriend = {
            "message" : "Oh wonderful! Would you like to talk about him?"
        };

        var holiday = {
            "message" : "Wow I'd love to go globetrotting like that! did you have a good time?"
        };

        var work = {
            "message" : "It's great that you love your job. Finding fulfilling work is hard but worth it!"
        };


    var bad = {
        "message" : "Awh no :c"
    };

    var cake = {
        "message" : "CAKE!"
    };

    var testResponseHandler = {
        "good"  : good,
        "great" : good,
        "awesome" : good,
        "bad"   : bad,
        "shitty" : bad,
        "shit" : bad,
        "awful" : bad,
        "terrible" : bad,
        "cake"  : cake
    };

    var allThings = {
        "message" : "Hello, we're going to have a 'therapy session'. How are you today?",
        "responseHandler" : testResponseHandler,
        "catch" : "Excuse me?"
    };

    var position = allThings;


    function processCommand(command){
        
        position =  position.responseHandler[command];

        if (position == undefined) console.log("ERROR: Does the response handler have a corresponding command? It's not here");

        var tempResponse = position.message;

        if (position.responseHandler == undefined) {
            
            console.log("ERROR: Does the response to this keyword have a corresponding response handler?");

            //return "Oh No";
        }
        return tempResponse;
    }




    //Document Editing Sheit

    var response = "How are you today?<br/>";
    var message = "";

    function addText() {
      var command = document.getElementById("command").value;
      //processCommand(command);
      response+= processCommand(command);
      response+= "<br/>";


      document.getElementById("console").innerHTML=response;
      document.getElementById("command").value="";

      return false;
    }

    </script>

    <div id="console">
    </div>
    <form onsubmit="return addText()">
      <input id="command" type="text" name="text" autocomplete="off"/>
    </form>

    <script>

    document.getElementById("console").innerHTML=response;

    </script>





  </body>
</html>